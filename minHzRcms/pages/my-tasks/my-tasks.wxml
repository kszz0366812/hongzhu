<!-- pages/my-tasks/my-tasks.wxml -->
<view class="container">
  <!-- ä»»åŠ¡åˆ—è¡¨ -->
  <view class="task-list">
    <view class="task-card" wx:for="{{filteredTasks}}" wx:key="id">
      <view class="task-header">
        <view class="task-title">{{item.title}}</view>
        <view class="task-status {{item.status === 'å¾…å¤„ç†' ? 'pending' : item.status === 'è¿›è¡Œä¸­' ? 'ongoing' : 'completed'}}">
          {{item.status}}
        </view>
      </view>
      
      <view class="task-info">
        <view class="info-item">
          <text class="label">é¡¹ç›®ï¼š</text>
          <text class="value">{{item.project}}</text>
        </view>
        <view class="info-item">
          <text class="label">ä¼˜å…ˆçº§ï¼š</text>
          <text class="value priority-{{item.priority}}">{{item.priorityText}}</text>
        </view>
        <view class="info-item">
          <text class="label">æˆªæ­¢æ—¶é—´ï¼š</text>
          <text class="value {{item.isOverdue ? 'overdue' : ''}}">{{item.deadline}}</text>
        </view>
      </view>
      
      <view class="task-description">
        {{item.description}}
      </view>
      
      <view class="task-actions">
        <button class="action-btn {{item.status === 'å·²å®Œæˆ' ? 'disabled' : ''}}" 
                bindtap="updateTaskStatus" 
                data-id="{{item.id}}" 
                data-status="è¿›è¡Œä¸­" 
                disabled="{{item.status === 'å·²å®Œæˆ'}}">å¼€å§‹ä»»åŠ¡</button>
        <button class="action-btn {{item.status === 'å·²å®Œæˆ' ? 'disabled' : ''}}" 
                bindtap="updateTaskStatus" 
                data-id="{{item.id}}" 
                data-status="å·²å®Œæˆ" 
                disabled="{{item.status === 'å·²å®Œæˆ'}}">å®Œæˆä»»åŠ¡</button>
        <button class="action-btn" bindtap="viewTaskDetail" data-id="{{item.id}}">æŸ¥çœ‹è¯¦æƒ…</button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{filteredTasks.length === 0}}">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">æš‚æ— ä»»åŠ¡</text>
  </view>
</view> 