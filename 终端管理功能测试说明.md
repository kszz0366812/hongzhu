# 终端管理功能测试说明

## 功能概述
已为终端管理模块添加了完整的分页查询功能，包括：
- 后端分页接口
- 前端完整CRUD功能
- 搜索和筛选功能

## 后端接口

### 1. 分页查询终端列表
- **接口**: `GET /api/terminal/page`
- **参数**:
  - `current`: 页码（默认1）
  - `size`: 每页大小（默认10）
  - `terminalName`: 终端名称（可选，模糊搜索）
  - `terminalType`: 终端类型（可选，模糊搜索）
  - `customerManager`: 客户经理（可选，模糊搜索）
  - `isScheduled`: 是否排线（可选，0或1）

### 2. 获取终端列表（不分页）
- **接口**: `GET /api/terminal/getlist`
- **参数**:
  - `terminal_name`: 终端名称（可选）
  - `terminal_type`: 终端类型（可选）
  - `customer_manager`: 客户经理（可选）

### 3. 获取终端详情
- **接口**: `GET /api/terminal/getById/{id}`

### 4. 新增终端
- **接口**: `POST /api/terminal/save`
- **请求体**: TerminalInfo对象

### 5. 修改终端
- **接口**: `POST /api/terminal/update`
- **请求体**: TerminalInfo对象

### 6. 删除终端
- **接口**: `DELETE /api/terminal/{id}`

## 前端功能

### 页面路径
- 前端页面: `frontend/src/views/manage/customer/Terminal.vue`
- API文件: `frontend/src/api/terminal.js`

### 功能特性
1. **分页显示**: 支持10/20/50/100条每页
2. **搜索功能**: 
   - 终端名称模糊搜索
   - 终端类型模糊搜索
   - 客户经理模糊搜索
   - 是否排线筛选
3. **CRUD操作**:
   - 新增终端
   - 编辑终端
   - 删除终端
   - 查看终端详情
4. **表单验证**: 必填字段验证
5. **用户体验**:
   - 加载状态显示
   - 操作确认提示
   - 成功/失败消息提示

## 测试步骤

### 1. 启动后端服务
```bash
cd backend
mvn spring-boot:run
```

### 2. 启动前端服务
```bash
cd frontend
npm install
npm run dev
```

### 3. 测试分页功能
1. 访问终端管理页面
2. 验证分页控件是否正常显示
3. 测试切换页码和每页大小
4. 验证数据是否正确分页显示

### 4. 测试搜索功能
1. 在搜索框中输入终端名称
2. 点击搜索按钮
3. 验证搜索结果是否正确
4. 测试重置功能

### 5. 测试CRUD操作
1. **新增测试**:
   - 点击"新增终端"按钮
   - 填写表单信息
   - 提交并验证是否成功
2. **编辑测试**:
   - 点击某行的"编辑"按钮
   - 修改信息并保存
   - 验证修改是否生效
3. **删除测试**:
   - 点击某行的"删除"按钮
   - 确认删除操作
   - 验证是否成功删除

### 6. 测试表单验证
1. 尝试提交空表单
2. 验证必填字段提示是否正确显示

## 数据库表结构
终端信息表 `terminal_info`:
- `id`: 主键
- `terminal_code`: 终端编码
- `terminal_name`: 终端名称
- `terminal_type`: 终端类型
- `tags`: 标签
- `customer_manager`: 客户经理
- `is_scheduled`: 是否排线（0否1是）
- `create_time`: 创建时间
- `update_time`: 更新时间
- `deleted`: 逻辑删除标记

## 注意事项
1. 确保数据库连接正常
2. 确保前端API地址配置正确
3. 测试时注意数据的一致性
4. 建议先添加一些测试数据再进行功能测试

## 可能的问题和解决方案

### 1. 前端无法访问后端接口
- 检查后端服务是否正常启动
- 检查前端API地址配置
- 检查跨域配置

### 2. 分页数据不正确
- 检查后端分页参数是否正确
- 检查数据库查询条件
- 检查前端分页参数传递

### 3. 搜索功能不生效
- 检查搜索参数是否正确传递
- 检查后端查询条件构建
- 检查数据库字段名是否匹配

### 4. 表单提交失败
- 检查表单验证规则
- 检查后端接口参数
- 检查数据库字段约束 